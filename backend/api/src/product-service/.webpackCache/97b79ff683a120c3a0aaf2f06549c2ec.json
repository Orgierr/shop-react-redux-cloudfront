{"remainingRequest":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\node_modules\\babel-loader\\lib\\index.js!E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\src\\handlers\\getProductsById.ts","dependencies":[{"path":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\src\\handlers\\getProductsById.ts","mtime":1654604457166},{"path":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\.babelrc","mtime":1654515707493},{"path":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654516721404},{"path":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\node_modules\\babel-loader\\lib\\index.js","mtime":1654516733003}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgUHJvZHVjdE5vdEZvdW5kRXJyb3IgfSBmcm9tICIuLi9jb21tb24vbm90X2ZvdW5kX3Byb2R1Y3RfZXJyb3IiOwppbXBvcnQgeyBwcm9kdWN0cyB9IGZyb20gIi4uL2NvbW1vbi9wcm9kdWN0cyI7CmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0c0J5SWQgPSBhc3luYyBldmVudCA9PiB7CiAgdHJ5IHsKICAgIGNvbnN0IHByb2R1Y3QgPSBwcm9kdWN0cy5maW5kKGUgPT4gZS5pZCA9PT0gZXZlbnQucGF0aC5wcm9kdWN0SWQpOwogICAgaWYgKCFwcm9kdWN0KSB0aHJvdyBuZXcgUHJvZHVjdE5vdEZvdW5kRXJyb3IoKTsKICAgIHJldHVybiB7CiAgICAgIHN0YXR1c0NvZGU6IDIwMCwKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZHVjdCkKICAgIH07CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFByb2R1Y3ROb3RGb3VuZEVycm9yKSByZXR1cm4gZXJyb3IuZXJyb3JSZXM7CiAgICByZXR1cm4gewogICAgICBzdGF0dXNDb2RlOiA1MDAsCiAgICAgIGJvZHk6ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiCiAgICB9OwogIH0KfTs="},{"version":3,"names":["ProductNotFoundError","products","getProductsById","event","product","find","e","id","path","productId","statusCode","body","JSON","stringify","error","errorRes"],"sources":["E:/work/rs-school/js-nodejs-aws/shop-react-redux-cloudfront/backend/api/src/product-service/src/handlers/getProductsById.ts"],"sourcesContent":["import { APIGatewayEvent, APIGatewayProxyHandler } from \"aws-lambda\";\nimport { ProductNotFoundError } from \"../common/not_found_product_error\";\nimport { products } from \"../common/products\";\n\nexport const getProductsById: APIGatewayProxyHandler = async (\n  event: APIGatewayEvent & ProductPath\n) => {\n  try {\n    const product = products.find((e) => e.id === event.path.productId);\n    if (!product) throw new ProductNotFoundError();\n    return {\n      statusCode: 200,\n      body: JSON.stringify(product),\n    };\n  } catch (error) {\n    if (error instanceof ProductNotFoundError) return error.errorRes;\n    return {\n      statusCode: 500,\n      body: \"Internal Server Error\",\n    };\n  }\n};\n"],"mappings":"AACA,SAASA,oBAAT,QAAqC,mCAArC;AACA,SAASC,QAAT,QAAyB,oBAAzB;AAEA,OAAO,MAAMC,eAAuC,GAAG,MACrDC,KADqD,IAElD;EACH,IAAI;IACF,MAAMC,OAAO,GAAGH,QAAQ,CAACI,IAAT,CAAeC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,KAAK,CAACK,IAAN,CAAWC,SAAzC,CAAhB;IACA,IAAI,CAACL,OAAL,EAAc,MAAM,IAAIJ,oBAAJ,EAAN;IACd,OAAO;MACLU,UAAU,EAAE,GADP;MAELC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,OAAf;IAFD,CAAP;EAID,CAPD,CAOE,OAAOU,KAAP,EAAc;IACd,IAAIA,KAAK,YAAYd,oBAArB,EAA2C,OAAOc,KAAK,CAACC,QAAb;IAC3C,OAAO;MACLL,UAAU,EAAE,GADP;MAELC,IAAI,EAAE;IAFD,CAAP;EAID;AACF,CAjBM"}]}