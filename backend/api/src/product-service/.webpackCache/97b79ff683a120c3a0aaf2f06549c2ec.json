{"remainingRequest":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\node_modules\\babel-loader\\lib\\index.js!E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\src\\handlers\\getProductsById.ts","dependencies":[{"path":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\src\\handlers\\getProductsById.ts","mtime":1654624418226},{"path":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\.babelrc","mtime":1654515707493},{"path":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654516721404},{"path":"E:\\work\\rs-school\\js-nodejs-aws\\shop-react-redux-cloudfront\\backend\\api\\src\\product-service\\node_modules\\babel-loader\\lib\\index.js","mtime":1654516733003}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgUHJvZHVjdE5vdEZvdW5kRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMvbm90X2ZvdW5kX3Byb2R1Y3RfZXJyb3InOwppbXBvcnQgeyBwcm9kdWN0cyB9IGZyb20gJy4uL2NvbW1vbi9wcm9kdWN0cyc7CmltcG9ydCB7IEludGVybmFsU2VydmVyRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMvaW50ZXJuYWxfc2VydmVyX2Vycm9yJzsKZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzQnlJZCA9IGFzeW5jIGV2ZW50ID0+IHsKICB0cnkgewogICAgY29uc3QgcHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQoZSA9PiBlLmlkID09PSBldmVudC5wYXRoLnByb2R1Y3RJZCk7CiAgICBpZiAoIXByb2R1Y3QpIHRocm93IG5ldyBQcm9kdWN0Tm90Rm91bmRFcnJvcigpOwogICAgcmV0dXJuIHsKICAgICAgc3RhdHVzQ29kZTogMjAwLAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwcm9kdWN0KQogICAgfTsKICB9IGNhdGNoIChlcnJvcikgewogICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUHJvZHVjdE5vdEZvdW5kRXJyb3IpIHJldHVybiBlcnJvci5lcnJvclJlczsKICAgIHJldHVybiBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvcigpLmVycm9yUmVzOwogIH0KfTs="},{"version":3,"names":["ProductNotFoundError","products","InternalServerError","getProductsById","event","product","find","e","id","path","productId","statusCode","body","JSON","stringify","error","errorRes"],"sources":["E:/work/rs-school/js-nodejs-aws/shop-react-redux-cloudfront/backend/api/src/product-service/src/handlers/getProductsById.ts"],"sourcesContent":["import { ProductNotFoundError } from '../errors/not_found_product_error';\nimport { products } from '../common/products';\nimport { InternalServerError } from '../errors/internal_server_error';\n\nexport const getProductsById = async (event: ProductPath) => {\n  try {\n    const product = products.find((e) => e.id === event.path.productId);\n    if (!product) throw new ProductNotFoundError();\n    return {\n      statusCode: 200,\n      body: JSON.stringify(product),\n    };\n  } catch (error) {\n    if (error instanceof ProductNotFoundError) return error.errorRes;\n    return new InternalServerError().errorRes;\n  }\n};\n"],"mappings":"AAAA,SAASA,oBAAT,QAAqC,mCAArC;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,mBAAT,QAAoC,iCAApC;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAOC,KAAP,IAA8B;EAC3D,IAAI;IACF,MAAMC,OAAO,GAAGJ,QAAQ,CAACK,IAAT,CAAeC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,KAAK,CAACK,IAAN,CAAWC,SAAzC,CAAhB;IACA,IAAI,CAACL,OAAL,EAAc,MAAM,IAAIL,oBAAJ,EAAN;IACd,OAAO;MACLW,UAAU,EAAE,GADP;MAELC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,OAAf;IAFD,CAAP;EAID,CAPD,CAOE,OAAOU,KAAP,EAAc;IACd,IAAIA,KAAK,YAAYf,oBAArB,EAA2C,OAAOe,KAAK,CAACC,QAAb;IAC3C,OAAO,IAAId,mBAAJ,GAA0Bc,QAAjC;EACD;AACF,CAZM"}]}